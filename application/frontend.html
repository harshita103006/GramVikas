<!DOCTYPE html>
<html lang="hi">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>‡§ó‡•ç‡§∞‡§æ‡§Æ ‡§µ‡§ø‡§ï‡§æ‡§∏ - Gram Vikas</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    * {
      box-sizing: border-box;
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      padding: 0;
    }

    body {
      min-height: 100vh;
      color: #065f46;
      background: #e3f4ec;
      position: relative;
      overflow-x: hidden;
    }

    .background {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: url('https://i.ibb.co/RTCQDjcc/IMG-20250917-WA0047.jpg') center center/cover no-repeat;
      filter: blur(8px) brightness(0.88);
      z-index: -2;
    }

    .overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(255, 255, 255, 0.4);
      z-index: -1;
    }

    .floating-leaves {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: -1;
      overflow: hidden;
    }

    .leaf {
      position: absolute;
      opacity: 0;
      animation: drop 15s infinite linear;
    }

    .leaf:nth-child(1) {
      left: 5%;
      top: -50px;
      animation-duration: 12s;
      animation-delay: 0s;
    }

    .leaf:nth-child(2) {
      left: 15%;
      top: -30px;
      animation-duration: 14s;
      animation-delay: 1s;
    }

    .leaf:nth-child(3) {
      left: 25%;
      top: -70px;
      animation-duration: 10s;
      animation-delay: 2s;
    }

    .leaf:nth-child(4) {
      left: 35%;
      top: -40px;
      animation-duration: 16s;
      animation-delay: 3s;
    }

    .leaf:nth-child(5) {
      left: 45%;
      top: -60px;
      animation-duration: 13s;
      animation-delay: 4s;
    }

    .leaf:nth-child(6) {
      left: 55%;
      top: -50px;
      animation-duration: 11s;
      animation-delay: 5s;
    }

    .leaf:nth-child(7) {
      left: 65%;
      top: -80px;
      animation-duration: 15s;
      animation-delay: 6s;
    }

    .leaf:nth-child(8) {
      left: 75%;
      top: -30px;
      animation-duration: 9s;
      animation-delay: 7s;
    }

    .leaf:nth-child(9) {
      left: 85%;
      top: -60px;
      animation-duration: 17s;
      animation-delay: 8s;
    }

    .leaf:nth-child(10) {
      left: 95%;
      top: -40px;
      animation-duration: 12s;
      animation-delay: 9s;
    }

    @keyframes drop {
      0% {
        transform: translateY(0) rotate(0deg);
        opacity: 0;
      }

      10% {
        opacity: 0.7;
      }

      90% {
        opacity: 0.7;
      }

      100% {
        transform: translateY(100vh) rotate(360deg);
        opacity: 0;
      }
    }

    nav {
      background-color: #75d2a3;
      padding: 12px 20px;
      display: none;
      justify-content: center;
      flex-wrap: wrap;
      gap: 10px;
      font-weight: bold;
    }

    nav.visible {
      display: flex;
    }

    nav a {
      text-decoration: none;
      color: #065f46;
      padding: 6px 10px;
      border-radius: 8px;
      transition: background-color 0.3s;
    }

    nav a:hover {
      background-color: rgba(255, 255, 255, 0.3);
      text-decoration: underline;
    }

    .page {
      display: none;
      padding: 20px;
    }

    .page.active {
      display: block;
    }

    .container {
      max-width: 700px;
      margin: 40px auto;
      background: rgba(244, 227, 227, 0.85);
      border-radius: 20px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      padding: 30px;
      text-align: center;
    }

    .logo {
      width: 150px;
      border-radius: 50%;
      margin-bottom: 20px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }

    .namaste {
      font-size: 5rem;
      font-weight: bold;
      color: #065f46;
      margin-bottom: 5px;
      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
    }

    .title {
      font-size: 3rem;
      font-weight: bold;
      color: #065f46;
      margin-bottom: 10px;
    }

    .tagline {
      font-size: 1.1rem;
      color: #065f46;
      margin-bottom: 30px;
      opacity: 0.9;
    }

    .tabs {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin: 30px 0;
      flex-wrap: wrap;
    }

    .tab {
      background: #bbf7d0;
      border-radius: 20px;
      width: 140px;
      cursor: pointer;
      box-shadow: 0 4px 14px rgba(6, 95, 70, 0.15);
      transition: all 0.3s ease;
      color: #065f46;
      font-weight: 700;
      padding: 15px 10px;
      text-align: center;
    }

    #chat-tab,
    #info-tab {
      background-image: url(https://i.ibb.co/G4nvzJmB/Whats-App-Image-2025-09-27-at-10-41-31-1.jpg) !important;
      background-position: center;
      background-repeat: no-repeat;
      background-size: cover;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      height: 125px;
    }

    #info-tab {
      background-image: url(https://i.ibb.co/xST31RPc/Whats-App-Image-2025-09-27-at-11-41-20.jpg) !important;
    }

    div#chat-tab::before,
    div#info-tab::before {
      content: "";
      position: absolute;
      height: 100%;
      width: 100%;
      top: 0;
      left: 0;
      background-color: #00000073;
      border-radius: 20px;
    }


    .tab:hover,
    .tab.active {
      background: #16a34a;
      color: white;
      box-shadow: 0 6px 20px rgba(22, 163, 74, 0.6);
    }

    .tab svg {
      width: 36px;
      height: 36px;
      margin-bottom: 8px;
      fill: currentColor;
    }

    .tab-label {
      font-size: 1rem;
      line-height: 1.2;
      position: relative;
      color: #fff;

    }

    .info-cards {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      justify-content: center;
      margin: 30px 0;
    }

    .info-card {
      background: white;
      border-radius: 12px;
      padding: 20px;
      width: 100%;
      max-width: 300px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      text-align: left;
    }

    .info-card h3 {
      margin-top: 0;
      margin-bottom: 10px;
      color: #065f46;
    }

    .form-group {
      margin-bottom: 20px;
      text-align: left;
    }

    .form-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: bold;
      color: #065f46;
    }

    .form-group input,
    .form-group select,
    .form-group textarea {
      width: 100%;
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #4ade80;
      font-size: 1rem;
    }

    .form-group textarea {
      resize: vertical;
      min-height: 100px;
    }

    .voice-input-container {
      display: flex;
      align-items: center;
      gap: 10px;
      margin: 15px 0;
    }

    .voice-input-container input {
      flex: 1;
    }

    .voice-btn {
      background-color: #3b82f6;
      padding: 10px 15px;
      border-radius: 8px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 1.2rem;
    }

    .voice-btn.listening {
      background-color: #ef4444;
      animation: pulse 1.5s infinite;
    }

    @keyframes pulse {
      0% {
        transform: scale(1);
      }

      50% {
        transform: scale(1.05);
      }

      100% {
        transform: scale(1);
      }
    }

    .voice-status {
      font-size: 0.9rem;
      color: #3b82f6;
      margin-top: 5px;
      text-align: center;
    }

    button {
      background-color: #16a34a;
      color: white;
      border: none;
      padding: 12px 20px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1rem;
      margin-top: 15px;
      transition: background-color 0.3s;
    }

    button:hover {
      background-color: #15803d;
    }

    .chat-container {
      height: 300px;
      overflow-y: auto;
      padding: 15px;
      background-color: #f0fdf4;
      border: 1px solid #d1fae5;
      border-radius: 10px;
      margin-bottom: 15px;
    }

    .chat-bubble {
      max-width: 80%;
      padding: 12px;
      border-radius: 12px;
      margin: 8px 0;
      clear: both;
    }

    .farmer {
      background-color: #bbf7d0;
      float: left;
    }

    .system {
      background-color: #bfdbfe;
      float: right;
    }

    .thankyou-container {
      background-color: #bbf7d0;
      padding: 40px 20px;
      border-radius: 20px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      text-align: center;
    }

    .thankyou-container h1 {
      font-size: 2.5rem;
      margin-bottom: 20px;
      color: #065f46;
    }

    .thankyou-container p {
      font-size: 1.2rem;
      color: #065f46;
    }

    /* Splash Screen Styles */
    .splash-container {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      height: 100vh;
      text-align: center;
      padding: 20px;
      position: relative;
      z-index: 10;
    }

    .splash-logo {
      width: 180px;
      height: 180px;
      background-color: #70cbb1;
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      margin-bottom: 30px;
      box-shadow: 0 10px 25px rgba(138, 177, 166, 0.3);
      animation: float 3s ease-in-out infinite;
      position: relative;
      overflow: hidden;
    }

    .splash-logo::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle, rgba(255, 255, 255, 0.3) 0%, rgba(255, 255, 255, 0) 70%);
      animation: shine 3s infinite;
    }

    .splash-logo img {
      width: 80%;
      height: 80%;
      object-fit: contain;
      border-radius: 50%;
      z-index: 1;
    }

    .splash-title {
      font-size: 4rem;
      font-weight: bold;
      color: #065f46;
      margin-bottom: 15px;
      opacity: 0;
      animation: fadeInUp 1s ease forwards 0.5s;
    }

    .splash-tagline {
      font-size: 1.8rem;
      color: #065f46;
      margin-bottom: 40px;
      opacity: 0;
      animation: fadeInUp 1s ease forwards 0.8s;
    }

    .continue-btn {
      background-color: #16a34a;
      color: white;
      border: none;
      padding: 15px 40px;
      border-radius: 30px;
      font-size: 1.2rem;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      opacity: 0;
      animation: fadeInUp 1s ease forwards 1.1s;
    }

    .continue-btn:hover {
      background-color: #15803d;
      transform: translateY(-3px);
      box-shadow: 0 8px 15px rgba(0, 0, 0, 0.2);
    }

    .decorative-element {
      position: absolute;
      border-radius: 50%;
      background-color: rgba(74, 124, 89, 0.1);
      z-index: -1;
    }

    .decorative-element.top-left {
      top: -50px;
      left: -50px;
      width: 200px;
      height: 200px;
      animation: pulse 4s ease-in-out infinite;
    }

    .decorative-element.bottom-right {
      bottom: -50px;
      right: -50px;
      width: 250px;
      height: 250px;
      animation: pulse 4s ease-in-out infinite 1s;
    }

    .decorative-element.top-right {
      top: 50px;
      right: 50px;
      width: 80px;
      height: 80px;
      background-color: rgba(74, 124, 89, 0.15);
      animation: float 5s ease-in-out infinite 0.5s;
    }

    .decorative-element.bottom-left {
      bottom: 80px;
      left: 60px;
      width: 60px;
      height: 60px;
      background-color: rgba(74, 124, 89, 0.15);
      animation: float 6s ease-in-out infinite 1.5s;
    }

    /* Splash Screen Animations */
    @keyframes float {

      0%,
      100% {
        transform: translateY(0);
      }

      50% {
        transform: translateY(-10px);
      }
    }

    @keyframes pulse {

      0%,
      100% {
        transform: scale(1);
        opacity: 0.1;
      }

      50% {
        transform: scale(1.05);
        opacity: 0.2;
      }
    }

    @keyframes shine {
      0% {
        transform: rotate(0deg);
      }

      100% {
        transform: rotate(360deg);
      }
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @media (max-width: 600px) {
      .namaste {
        font-size: 4rem;
      }

      .title {
        font-size: 2.5rem;
      }

      .tagline {
        font-size: 1rem;
      }

      .tab {
        width: 110px;
        padding: 12px 5px;
      }

      .tab svg {
        width: 30px;
        height: 30px;
      }

      .splash-title {
        font-size: 3rem;
      }

      .splash-tagline {
        font-size: 1.5rem;
      }
    }
  </style>
</head>

<body>
  <div class="floating-leaves">
    <svg class="leaf" width="40" height="40" viewBox="0 0 24 24" fill="#4ade80">
      <path
        d="M17,8C8,10 5.9,16.17 3.82,21.34L5.71,22L6.66,19.7C7.14,19.87 7.64,20 8,20C19,20 22,3 22,3C21,5 14,5.25 9,6.25C4,7.25 2,11.5 2,13.5C2,15.5 3.75,17.25 3.75,17.25C7,8 17,8 17,8Z" />
    </svg>
    <svg class="leaf" width="35" height="35" viewBox="0 0 24 24" fill="#86efac">
      <path
        d="M17,8C8,10 5.9,16.17 3.82,21.34L5.71,22L6.66,19.7C7.14,19.87 7.64,20 8,20C19,20 22,3 22,3C21,5 14,5.25 9,6.25C4,7.25 2,11.5 2,13.5C2,15.5 3.75,17.25 3.75,17.25C7,8 17,8 17,8Z" />
    </svg>
    <svg class="leaf" width="45" height="45" viewBox="0 0 24 24" fill="#bbf7d0">
      <path
        d="M17,8C8,10 5.9,16.17 3.82,21.34L5.71,22L6.66,19.7C7.14,19.87 7.64,20 8,20C19,20 22,3 22,3C21,5 14,5.25 9,6.25C4,7.25 2,11.5 2,13.5C2,15.5 3.75,17.25 3.75,17.25C7,8 17,8 17,8Z" />
    </svg>
    <svg class="leaf" width="30" height="30" viewBox="0 0 24 24" fill="#4ade80">
      <path
        d="M17,8C8,10 5.9,16.17 3.82,21.34L5.71,22L6.66,19.7C7.14,19.87 7.64,20 8,20C19,20 22,3 22,3C21,5 14,5.25 9,6.25C4,7.25 2,11.5 2,13.5C2,15.5 3.75,17.25 3.75,17.25C7,8 17,8 17,8Z" />
    </svg>
    <svg class="leaf" width="50" height="50" viewBox="0 0 24 24" fill="#86efac">
      <path
        d="M17,8C8,10 5.9,16.17 3.82,21.34L5.71,22L6.66,19.7C7.14,19.87 7.64,20 8,20C19,20 22,3 22,3C21,5 14,5.25 9,6.25C4,7.25 2,11.5 2,13.5C2,15.5 3.75,17.25 3.75,17.25C7,8 17,8 17,8Z" />
    </svg>
    <svg class="leaf" width="40" height="40" viewBox="0 0 24 24" fill="#bbf7d0">
      <path
        d="M17,8C8,10 5.9,16.17 3.82,21.34L5.71,22L6.66,19.7C7.14,19.87 7.64,20 8,20C19,20 22,3 22,3C21,5 14,5.25 9,6.25C4,7.25 2,11.5 2,13.5C2,15.5 3.75,17.25 3.75,17.25C7,8 17,8 17,8Z" />
    </svg>
    <svg class="leaf" width="35" height="35" viewBox="0 0 24 24" fill="#4ade80">
      <path
        d="M17,8C8,10 5.9,16.17 3.82,21.34L5.71,22L6.66,19.7C7.14,19.87 7.64,20 8,20C19,20 22,3 22,3C21,5 14,5.25 9,6.25C4,7.25 2,11.5 2,13.5C2,15.5 3.75,17.25 3.75,17.25C7,8 17,8 17,8Z" />
    </svg>
    <svg class="leaf" width="45" height="45" viewBox="0 0 24 24" fill="#86efac">
      <path
        d="M17,8C8,10 5.9,16.17 3.82,21.34L5.71,22L6.66,19.7C7.14,19.87 7.64,20 8,20C19,20 22,3 22,3C21,5 14,5.25 9,6.25C4,7.25 2,11.5 2,13.5C2,15.5 3.75,17.25 3.75,17.25C7,8 17,8 17,8Z" />
    </svg>
    <svg class="leaf" width="30" height="30" viewBox="0 0 24 24" fill="#bbf7d0">
      <path
        d="M17,8C8,10 5.9,16.17 3.82,21.34L5.71,22L6.66,19.7C7.14,19.87 7.64,20 8,20C19,20 22,3 22,3C21,5 14,5.25 9,6.25C4,7.25 2,11.5 2,13.5C2,15.5 3.75,17.25 3.75,17.25C7,8 17,8 17,8Z" />
    </svg>
    <svg class="leaf" width="50" height="50" viewBox="0 0 24 24" fill="#4ade80">
      <path
        d="M17,8C8,10 5.9,16.17 3.82,21.34L5.71,22L6.66,19.7C7.14,19.87 7.64,20 8,20C19,20 22,3 22,3C21,5 14,5.25 9,6.25C4,7.25 2,11.5 2,13.5C2,15.5 3.75,17.25 3.75,17.25C7,8 17,8 17,8Z" />
    </svg>
  </div>
  <div class="background"></div>
  <div class="overlay"></div>

  <!-- Splash Screen -->
  <div id="splashPage" class="page active">
    <div class="splash-container">
      <!-- Decorative Elements -->
      <div class="decorative-element top-left"></div>
      <div class="decorative-element bottom-right"></div>
      <div class="decorative-element top-right"></div>
      <div class="decorative-element bottom-left"></div>

      <!-- Logo with your image -->
      <div class="splash-logo">
        <img src="https://i.ibb.co/v6rSRq8W/logo.jpg" alt="Gram Vikas Logo">
      </div>

      <!-- App Name and Tagline -->
      <h1 class="splash-title">‡§ó‡•ç‡§∞‡§æ‡§Æ ‡§µ‡§ø‡§ï‡§æ‡§∏</h1>
      <p class="splash-tagline">‡§Æ‡§ø‡§ü‡•ç‡§ü‡•Ä ‡§∏‡•á ‡§∏‡§Æ‡•É‡§¶‡•ç‡§ß‡§ø ‡§§‡§ï</p>

      <!-- Continue Button -->
      <button class="continue-btn" onclick="showHomePage()">Touch anywhere to continue</button>
    </div>
  </div>

  <nav>
    <a href="#" onclick="showPage('home'); setActiveTab('home-tab')">üè† ‡§π‡•ã‡§Æ</a>
    <a href="#" onclick="showPage('infoPage'); setActiveTab('info-tab')">‚Ñπ ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä</a>
    <a href="#" onclick="showPage('chatPage'); setActiveTab('chat-tab'); initChat()">üí¨ ‡§∏‡§Ç‡§µ‡§æ‡§¶</a>

    <div class="phone-number"><a href="tel:91 90243606XX">üìû +91 90243606XX</a></div>

  </nav>
  <style>
    nav {
      display: flex;
      align-items: center;
      justify-content: space-between;
      /* links left, phone right */
      background: #4caf50;
      /* aapka green bg */
      padding: 10px 20px;
    }

    nav a {
      margin-right: 15px;
      text-decoration: none;
      color: #fff;
      font-weight: bold;
    }

    .phone-number {
      margin-left: auto;
      /* sab links ke baad bilkul right push karega */
    }

    .phone-number a {
      color: #fff;
      /* white text */
      background: #007bff;
      /* blue button look */
      padding: 6px 12px;
      border-radius: 4px;
      text-decoration: none;
      font-weight: bold;
      transition: background 0.3s;
    }

    .phone-number a:hover {
      background: #0056b3;
      /* hover effect */
    }
  </style>

  <div id="home" class="page">
    <div class="container">
      <!-- Your custom logo -->
      <img src="https://i.ibb.co/v6rSRq8W/logo.jpg" alt="Gram Vikas Logo" class="logo">
      <h1 class="namaste">‡§®‡§Æ‡§∏‡•ç‡§§‡•á</h1>
      <h1 class="title">Gram Vikasüåæ</h1>
      <p class="tagline">‡§õ‡•ã‡§ü‡•á ‡§ï‡§ø‡§∏‡§æ‡§®‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‡§è‡§ï ‡§∏‡•ç‡§Æ‡§æ‡§∞‡•ç‡§ü, ‡§Ü‡§µ‡§æ‡§ú-‡§∏‡§ï‡•ç‡§∑‡§Æ ‡§∏‡§≤‡§æ‡§π‡§ï‡§æ‡§∞ ‡§™‡•ç‡§∞‡§£‡§æ‡§≤‡•Ä</p>
      <div class="form-group">
        <label for="languageSelect">‡§≠‡§æ‡§∑‡§æ ‡§ö‡•Å‡§®‡•á‡§Ç / Choose Language:</label>
        <select id="languageSelect" onchange="setLanguage(this.value)">
          <option value="hi">‡§π‡§ø‡§Ç‡§¶‡•Ä</option>
          <option value="en">English</option>
        </select>
      </div>
      <div class="tabs">
        <div id="info-tab" class="tab" onclick="showPage('infoPage'); setActiveTab('info-tab')">
          <!-- <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path
              d="M16 11a4 4 0 10-8 0 4 4 0 008 0zm-9 3a5 5 0 00-5 5v1a1 1 0 001 1h16a1 1 0 001-1v-1a5 5 0 00-5-5H7z" />
          </svg> -->
          <div class="tab-label">‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä<br>‡§¶‡•á‡§Ç</div>
        </div>
        <div style id="chat-tab" class="tab" onclick="showPage('chatPage'); setActiveTab('chat-tab'); initChat()">
          <!-- <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path
              d="M5 16c0-4 3-7 7-7a9 9 0 017 6.75A7 7 0 005 16zM12 2a5 5 0 00-5 5c0 3-2 7-2 7s3 .18 5 3 2-3 2-3 3-1 4-4-2-8-4-8z" />
          </svg> -->
          <div class="tab-label">‡§ï‡•Ä‡§∂‡§æ</div>
        </div>
      </div>

      <div class="info-cards">
        <div class="info-card">
          <h3>‡§π‡§Æ‡§æ‡§∞‡•Ä ‡§∏‡•á‡§µ‡§æ‡§è‡§Ç</h3>
          <p>‡§ï‡§ø‡§∏‡§æ‡§®‡•ã‡§Ç ‡§ï‡•Ä ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ‡§ì‡§Ç ‡§ï‡§æ ‡§∏‡§Æ‡§æ‡§ß‡§æ‡§®, ‡§´‡§∏‡§≤ ‡§∏‡§≤‡§æ‡§π, ‡§Æ‡•å‡§∏‡§Æ ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä ‡§î‡§∞ ‡§¨‡§æ‡§ú‡§æ‡§∞ ‡§≠‡§æ‡§µ ‡§ï‡•Ä ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä ‡§™‡•ç‡§∞‡§¶‡§æ‡§® ‡§ï‡§∞‡§®‡§æ‡•§</p>
        </div>
        <div class="info-card">
          <h3>‡§ï‡•à‡§∏‡•á ‡§ï‡§æ‡§Æ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à?</h3>
          <p>‡§Ö‡§™‡§®‡•Ä ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ ‡§¨‡§§‡§æ‡§è‡§Ç, ‡§Ü‡§µ‡§æ‡§ú ‡§Ø‡§æ ‡§ü‡•á‡§ï‡•ç‡§∏‡•ç‡§ü ‡§ï‡•á ‡§Æ‡§æ‡§ß‡•ç‡§Ø‡§Æ ‡§∏‡•á‡•§ ‡§π‡§Æ‡§æ‡§∞‡§æ ‡§∏‡§ø‡§∏‡•ç‡§ü‡§Æ ‡§Ü‡§™‡§ï‡•ã ‡§â‡§ö‡§ø‡§§ ‡§∏‡§≤‡§æ‡§π ‡§¶‡•á‡§ó‡§æ‡•§</p>
        </div>
      </div>
    </div>
  </div>

  <div id="problemPage" class="page">
    <div class="container">
      <h2>‡§Ö‡§™‡§®‡•Ä ‡§ï‡•É‡§∑‡§ø ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ ‡§¨‡§§‡§æ‡§è‡§Ç</h2>

      <div class="form-group">
        <label for="cropType">‡§´‡§∏‡§≤ ‡§ï‡§æ ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞:</label>
        <select id="cropType">
          <option value="">-- ‡§´‡§∏‡§≤ ‡§ö‡•Å‡§®‡•á‡§Ç --</option>
          <option value="wheat">‡§ó‡•á‡§π‡•Ç‡§Ç</option>
          <option value="rice">‡§ß‡§æ‡§®</option>
          <option value="corn">‡§Æ‡§ï‡•ç‡§ï‡§æ</option>
          <option value="sugarcane">‡§ó‡§®‡•ç‡§®‡§æ</option>
          <option value="tomato">‡§ü‡§Æ‡§æ‡§ü‡§∞</option>
          <option value="jowar">‡§ú‡•ç‡§µ‡§æ‡§∞</option>
          <option value="bajra">‡§¨‡§æ‡§ú‡§∞‡§æ</option>
          <option value="chickpea">‡§ö‡§®‡§æ</option>
          <option value="ragi">‡§∞‡§æ‡§ó‡•Ä</option>
        </select>
      </div>

      <div class="form-group">
        <label for="problemType">‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ ‡§ï‡§æ ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞:</label>
        <select id="problemType">
          <option value="">-- ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ ‡§ö‡•Å‡§®‡•á‡§Ç --</option>
          <option value="pest">‡§ï‡•Ä‡§ü/‡§∞‡•ã‡§ó</option>
          <option value="water">‡§∏‡§ø‡§Ç‡§ö‡§æ‡§à ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ</option>
          <option value="soil">‡§Æ‡§ø‡§ü‡•ç‡§ü‡•Ä ‡§ï‡•Ä ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ</option>
          <option value="weather">‡§Æ‡•å‡§∏‡§Æ ‡§∏‡§Ç‡§¨‡§Ç‡§ß‡•Ä</option>
          <option value="other">‡§Ö‡§®‡•ç‡§Ø</option>
        </select>
      </div>

      <div class="form-group">
        <label for="problemDetails">‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ ‡§ï‡§æ ‡§µ‡§ø‡§µ‡§∞‡§£ (‡§ü‡§æ‡§á‡§™ ‡§ï‡§∞‡•á‡§Ç ‡§Ø‡§æ ‡§¨‡•ã‡§≤‡§ï‡§∞ ‡§¨‡§§‡§æ‡§è‡§Ç):</label>
        <div class="voice-input-container">
          <input type="text" id="problemDetails" placeholder="‡§Ö‡§™‡§®‡•Ä ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ ‡§ï‡§æ ‡§µ‡§ø‡§∏‡•ç‡§§‡§æ‡§∞ ‡§∏‡•á ‡§µ‡§∞‡•ç‡§£‡§® ‡§ï‡§∞‡•á‡§Ç...">
          <div id="problemVoiceBtn" class="voice-btn" title="Voice Input">üé§</div>
        </div>
        <div id="voiceStatus" class="voice-status"></div>
      </div>

      <div class="form-group">
        <label for="problemPhoto">‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ ‡§ï‡•Ä ‡§§‡§∏‡•ç‡§µ‡•Ä‡§∞ (‡§Ø‡§¶‡§ø ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§π‡•ã):</label>
        <input type="file" id="problemPhoto" accept="image/*">
      </div>

      <button onclick="submitProblem()">‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ ‡§ú‡§Æ‡§æ ‡§ï‡§∞‡•á‡§Ç</button>
    </div>
  </div>

  <div id="infoPage" class="page">
    <div class="container">
      <h2>‡§ï‡•É‡§∑‡§ø ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä</h2>

      <div class="info-cards">
        <div class="info-card">
          <h3>‡§´‡§∏‡§≤ ‡§™‡•ç‡§∞‡§¨‡§Ç‡§ß‡§®</h3>
          <p>‡§â‡§ö‡§ø‡§§ ‡§´‡§∏‡§≤ ‡§ö‡§ï‡•ç‡§∞ ‡§Ö‡§™‡§®‡§æ‡§è‡§Ç ‡§î‡§∞ ‡§Æ‡§ø‡§ü‡•ç‡§ü‡•Ä ‡§ï‡•Ä ‡§â‡§∞‡•ç‡§µ‡§∞‡§§‡§æ ‡§¨‡§®‡§æ‡§è ‡§∞‡§ñ‡•á‡§Ç‡•§ ‡§ú‡•à‡§µ‡§ø‡§ï ‡§ñ‡§æ‡§¶ ‡§ï‡§æ ‡§™‡•ç‡§∞‡§Ø‡•ã‡§ó ‡§ï‡§∞‡•á‡§Ç‡•§</p>
        </div>
        <div class="info-card">
          <h3>‡§∏‡§ø‡§Ç‡§ö‡§æ‡§à ‡§µ‡§ø‡§ß‡§ø‡§Ø‡§æ‡§Å</h3>
          <p>‡§°‡•ç‡§∞‡§ø‡§™ ‡§∏‡§ø‡§Ç‡§ö‡§æ‡§à ‡§î‡§∞ ‡§∏‡•ç‡§™‡•ç‡§∞‡§ø‡§Ç‡§ï‡§≤‡§∞ ‡§∏‡§ø‡§∏‡•ç‡§ü‡§Æ ‡§ú‡•à‡§∏‡•Ä ‡§Ü‡§ß‡•Å‡§®‡§ø‡§ï ‡§§‡§ï‡§®‡•Ä‡§ï‡•ã‡§Ç ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞ ‡§™‡§æ‡§®‡•Ä ‡§¨‡§ö‡§æ‡§è‡§Ç‡•§</p>
        </div>
        <div class="info-card">
          <h3>‡§ï‡•Ä‡§ü ‡§®‡§ø‡§Ø‡§Ç‡§§‡•ç‡§∞‡§£</h3>
          <p>‡§ú‡•à‡§µ‡§ø‡§ï ‡§ï‡•Ä‡§ü‡§®‡§æ‡§∂‡§ï‡•ã‡§Ç ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡•á‡§Ç ‡§î‡§∞ ‡§∏‡§Æ‡§®‡•ç‡§µ‡§ø‡§§ ‡§ï‡•Ä‡§ü ‡§™‡•ç‡§∞‡§¨‡§Ç‡§ß‡§® (IPM) ‡§Ö‡§™‡§®‡§æ‡§è‡§Ç‡•§</p>
        </div>
      </div>

      <button onclick="showPage('home'); setActiveTab('home-tab')">üè† ‡§µ‡§æ‡§™‡§∏ ‡§π‡•ã‡§Æ</button>
    </div>
  </div>

  <div id="chatPage" class="page">
    <div class="container">
      <h2>üß† ‡§ó‡•ç‡§∞‡§æ‡§Æ ‡§µ‡§ø‡§ï‡§æ‡§∏ ‡§∏‡§≤‡§æ‡§π‡§ï‡§æ‡§∞ ‡§∏‡•á ‡§¨‡§æ‡§§ ‡§ï‡§∞‡•á‡§Ç</h2>
      <div id="chat-container" class="chat-container"></div>
      <div class="voice-input-container">
        <input type="text" id="chatInput" placeholder="‡§Ö‡§™‡§®‡§æ ‡§∏‡§Ç‡§¶‡•á‡§∂ ‡§≤‡§ø‡§ñ‡•á‡§Ç...">
        <div id="voiceBtn" class="voice-btn" title="Voice Input">üé§</div>
      </div>
      <div class="form-group">
        <input type="file" id="photoInput" accept="image/*" onchange="handlePhotoUpload(event)">
      </div>
      <button onclick="sendMessage()">‡§≠‡•á‡§ú‡•á‡§Ç</button>
      <button onclick="showPage('home'); setActiveTab('home-tab')">üè† ‡§µ‡§æ‡§™‡§∏ ‡§π‡•ã‡§Æ</button>
    </div>
  </div>

  <div id="thankyouPage" class="page">
    <div class="container">
      <div class="thankyou-container">
        <h1>üôè ‡§ß‡§®‡•ç‡§Ø‡§µ‡§æ‡§¶!</h1>
        <p>‡§Ü‡§™‡§ï‡•Ä ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ ‡§ï‡•á ‡§∏‡§Æ‡§æ‡§ß‡§æ‡§® ‡§Æ‡•á‡§Ç ‡§Æ‡§¶‡§¶ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§π‡§Æ ‡§π‡§Æ‡•á‡§∂‡§æ ‡§Ø‡§π‡§æ‡§Å ‡§π‡•à‡§Ç‡•§</p>
        <button onclick="showPage('home'); setActiveTab('home-tab')">üè† ‡§µ‡§æ‡§™‡§∏ ‡§π‡•ã‡§Æ</button>
      </div>
    </div>
  </div>

  <script>
    // Global variables
    let step = 0;
    let farmerData = {
      name: '',
      address: '',
      problem: '',
      weather: '',
      soil: ''
    };
    let inactivityTimer = null;
    let recognition = null;
    let problemRecognition = null;

    // Initialize voice recognition if available
    function initVoiceRecognition() {
      try {
        if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
          const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;

          // Main chat recognition
          recognition = new SpeechRecognition();
          recognition.continuous = false;
          recognition.lang = 'hi-IN';

          recognition.onresult = function (event) {
            const transcript = event.results[0][0].transcript;
            const chatInput = document.getElementById('chatInput');
            if (chatInput) {
              chatInput.value = transcript;
            }
          };

          recognition.onerror = function (event) {
            console.error('Speech recognition error', event.error);
            const voiceBtn = document.getElementById('voiceBtn');
            if (voiceBtn) {
              voiceBtn.classList.remove('listening');
            }
          };

          recognition.onend = function () {
            const voiceBtn = document.getElementById('voiceBtn');
            if (voiceBtn) {
              voiceBtn.classList.remove('listening');
            }
          };

          // Problem page recognition
          problemRecognition = new SpeechRecognition();
          problemRecognition.continuous = false;
          problemRecognition.lang = 'hi-IN';

          problemRecognition.onresult = function (event) {
            const transcript = event.results[0][0].transcript;
            const problemDetails = document.getElementById('problemDetails');
            const voiceStatus = document.getElementById('voiceStatus');

            if (problemDetails) {
              problemDetails.value = transcript;
            }

            if (voiceStatus) {
              voiceStatus.textContent = '‡§Ü‡§™‡§ï‡•Ä ‡§Ü‡§µ‡§æ‡§ú ‡§∏‡•Å‡§®‡§æ‡§à ‡§ó‡§à ‡§π‡•à';
              setTimeout(function () {
                voiceStatus.textContent = '';
              }, 3000);
            }
          };

          problemRecognition.onerror = function (event) {
            console.error('Speech recognition error', event.error);
            const problemVoiceBtn = document.getElementById('problemVoiceBtn');
            const voiceStatus = document.getElementById('voiceStatus');

            if (problemVoiceBtn) {
              problemVoiceBtn.classList.remove('listening');
            }

            if (voiceStatus) {
              voiceStatus.textContent = '‡§§‡•ç‡§∞‡•Å‡§ü‡§ø ‡§π‡•Å‡§à, ‡§ï‡•É‡§™‡§Ø‡§æ ‡§™‡•Å‡§®‡§É ‡§™‡•ç‡§∞‡§Ø‡§æ‡§∏ ‡§ï‡§∞‡•á‡§Ç';
            }
          };

          problemRecognition.onend = function () {
            const problemVoiceBtn = document.getElementById('problemVoiceBtn');
            if (problemVoiceBtn) {
              problemVoiceBtn.classList.remove('listening');
            }
          };
        } else {
          // Browser doesn't support speech recognition
          const voiceBtn = document.getElementById('voiceBtn');
          const problemVoiceBtn = document.getElementById('problemVoiceBtn');

          if (voiceBtn) {
            voiceBtn.style.display = 'none';
          }

          if (problemVoiceBtn) {
            problemVoiceBtn.style.display = 'none';
          }
        }
      } catch (error) {
        console.error('Error initializing voice recognition:', error);
      }
    }

    // Show page function
    function showPage(pageId) {
      try {
        // Hide all pages
        const pages = document.querySelectorAll('.page');
        for (let i = 0; i < pages.length; i++) {
          pages[i].classList.remove('active');
        }

        // Show the selected page
        const page = document.getElementById(pageId);
        if (page) {
          page.classList.add('active');
        }

        // Show/hide nav based on page
        const nav = document.querySelector('nav');
        if (pageId === 'splashPage') {
          nav.classList.remove('visible');
        } else {
          nav.classList.add('visible');
        }

        // Special handling for chat page
        if (pageId === 'chatPage') {
          initChat();
        }
      } catch (error) {
        console.error('Error in showPage:', error);
      }
    }

    // Set active tab function
    function setActiveTab(tabId) {
      try {
        // Remove active class from all tabs
        const tabs = document.querySelectorAll('.tab');
        for (let i = 0; i < tabs.length; i++) {
          tabs[i].classList.remove('active');
        }

        // Add active class to selected tab
        const tab = document.getElementById(tabId);
        if (tab) {
          tab.classList.add('active');
        }
      } catch (error) {
        console.error('Error in setActiveTab:', error);
      }
    }

    // Add chat bubble function
    function addBubble(sender, text, isImage) {
      try {
        const chatContainer = document.getElementById('chat-container');
        if (!chatContainer) {
          console.error('Chat container not found');
          return;
        }

        const div = document.createElement('div');
        div.className = 'chat-bubble ' + sender;

        if (isImage) {
          div.innerHTML = '<img src="' + text + '" alt="Uploaded Image" class="chat-image">';
        } else {
          // Replace newlines with <br> for HTML display
          const formattedText = text.replace(/\n/g, '<br>');
          div.innerHTML = '<p>' + formattedText + '</p>';
        }

        chatContainer.appendChild(div);
        chatContainer.scrollTop = chatContainer.scrollHeight;
      } catch (error) {
        console.error('Error in addBubble:', error);
      }
    }

    // Initialize chat function
    function initChat() {
      try {
        step = 1;
        farmerData = {
          name: '',
          address: '',
          problem: '',
          weather: '',
          soil: ''
        };

        const chatContainer = document.getElementById('chat-container');
        const chatInput = document.getElementById('chatInput');

        if (chatContainer) {
          chatContainer.innerHTML = '';
        }

        if (chatInput) {
          chatInput.value = '';
        }

        addBubble('system', '‡§®‡§Æ‡§∏‡•ç‡§§‡•á! ‡§ï‡•É‡§™‡§Ø‡§æ ‡§Ö‡§™‡§®‡§æ ‡§®‡§æ‡§Æ ‡§¨‡§§‡§æ‡§á‡§è‡•§');
        resetInactivityTimer();
      } catch (error) {
        console.error('Error in initChat:', error);
      }
    }

    // Send message function
    function sendMessage() {
      try {
        clearInactivityTimer();
        const chatInput = document.getElementById('chatInput');

        if (!chatInput) {
          console.error('Chat input not found');
          return;
        }

        const text = chatInput.value.trim();
        if (!text) {
          return;
        }

        addBubble('farmer', text, false);
        chatInput.value = '';

        setTimeout(function () {
          switch (step) {
            case 1:
              farmerData.name = text;
              step = 2;
              addBubble('system', '‡§ß‡§®‡•ç‡§Ø‡§µ‡§æ‡§¶ ' + farmerData.name + '! ‡§Ö‡§¨ ‡§Ö‡§™‡§®‡§æ ‡§ó‡§æ‡§Å‡§µ ‡§Ø‡§æ ‡§™‡§§‡§æ ‡§¨‡§§‡§æ‡§á‡§è‡•§');
              break;
            case 2:
              farmerData.address = text;
              step = 3;
              addBubble('system', '‡§†‡•Ä‡§ï ‡§π‡•à, ' + farmerData.name + ' (' + farmerData.address + ')‡•§ ‡§Ö‡§¨ ‡§ï‡•É‡§™‡§Ø‡§æ ‡§Ö‡§™‡§®‡•Ä ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ ‡§¨‡§§‡§æ‡§á‡§è‡•§');
              break;
            case 3:
              farmerData.problem = text;
              step = 4;
              addBubble('system', '‡§Æ‡•å‡§∏‡§Æ ‡§ï‡•Ä ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä ‡§¶‡•á‡§Ç (‡§ú‡•à‡§∏‡•á ‡§ó‡§∞‡•ç‡§Æ, ‡§†‡§Ç‡§°‡§æ, ‡§¨‡§æ‡§∞‡§ø‡§∂)‡•§');
              break;
            case 4:
              farmerData.weather = text;
              step = 5;
              addBubble('system', '‡§Æ‡§ø‡§ü‡•ç‡§ü‡•Ä ‡§ï‡§æ ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞ ‡§¨‡§§‡§æ‡§á‡§è (‡§ú‡•à‡§∏‡•á ‡§¶‡•ã‡§Æ‡§ü, ‡§¨‡§≤‡•Å‡§à)‡•§');
              break;
            case 5:
              farmerData.soil = text;
              step = 6;
              addBubble('system', '‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ "' + farmerData.problem + '" ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡•Å‡§ù‡§æ‡§µ:');
              addBubble('system', 'üå± ‡§Ü‡§™‡§ï‡•Ä ‡§Æ‡§ø‡§ü‡•ç‡§ü‡•Ä "' + farmerData.soil + '" ‡§î‡§∞ ‡§Æ‡•å‡§∏‡§Æ "' + farmerData.weather + '" ‡§ï‡•á ‡§Ö‡§®‡•Å‡§∏‡§æ‡§∞:\n‚Ä¢ ‡§â‡§∞‡•ç‡§µ‡§∞‡§ï ‡§°‡§æ‡§≤‡•á‡§Ç\n‚Ä¢ ‡§∏‡§ø‡§Ç‡§ö‡§æ‡§à ‡§®‡§ø‡§Ø‡§Ç‡§§‡•ç‡§∞‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç\n‚Ä¢ ‡§ú‡•à‡§µ‡§ø‡§ï ‡§ï‡•Ä‡§ü‡§®‡§æ‡§∂‡§ï ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡•á‡§Ç');

              if (farmerData.photo) {
                addBubble('system', '‡§Ü‡§™‡§ï‡•Ä ‡§≠‡•á‡§ú‡•Ä ‡§ó‡§à ‡§´‡§∏‡§≤ ‡§ï‡•Ä ‡§§‡§∏‡•ç‡§µ‡•Ä‡§∞ ‡§¶‡•á‡§ñ‡§ï‡§∞ ‡§≤‡§ó‡§§‡§æ ‡§π‡•à ‡§ï‡§ø ‡§Ü‡§™‡§ï‡•ã ‡§ú‡•à‡§µ‡§ø‡§ï ‡§ñ‡§æ‡§¶ ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡§®‡§æ ‡§ö‡§æ‡§π‡§ø‡§è‡•§');
              }

              addBubble('system', '‡§Ö‡§ó‡§∞ ‡§Ü‡§™ ‡§¨‡§æ‡§ú‡§º‡§æ‡§∞ ‡§ï‡•Ä‡§Æ‡§§ ‡§ú‡§æ‡§®‡§®‡§æ ‡§ö‡§æ‡§π‡§§‡•á ‡§π‡•à‡§Ç, "‡§ï‡•É‡§∑‡§ø ‡§Æ‡•Ç‡§≤‡•ç‡§Ø" ‡§≤‡§ø‡§ñ‡•á‡§Ç‡•§');
              break;
            case 6:
              if (text.includes('‡§ï‡•É‡§∑‡§ø') || text.includes('‡§ï‡•Ä‡§Æ‡§§') || text.includes('‡§Æ‡•Ç‡§≤‡•ç‡§Ø')) {
                addBubble('system', 'üìä ‡§Ü‡§ú ‡§ï‡•Ä ‡§ï‡•Ä‡§Æ‡§§‡•á‡§Ç: ‡§ó‡•á‡§π‡•Ç‡§Ç ‚Çπ2100/‡§ï‡•ç‡§µ‡§ø‡§Ç‡§ü‡§≤, ‡§ß‡§æ‡§® ‚Çπ2200/‡§ï‡•ç‡§µ‡§ø‡§Ç‡§ü‡§≤, ‡§Æ‡§ï‡•ç‡§ï‡§æ ‚Çπ1800/‡§ï‡•ç‡§µ‡§ø‡§Ç‡§ü‡§≤');
                step = 7;
                setTimeout(function () {
                  showPage('thankyouPage');
                }, 3000);
              } else {
                addBubble('system', '‡§Ø‡§¶‡§ø ‡§Ü‡§™ ‡§¨‡§æ‡§ú‡§æ‡§∞ ‡§≠‡§æ‡§µ ‡§ú‡§æ‡§®‡§®‡§æ ‡§ö‡§æ‡§π‡§§‡•á ‡§π‡•à‡§Ç, ‡§ï‡•É‡§™‡§Ø‡§æ "‡§ï‡•É‡§∑‡§ø ‡§Æ‡•Ç‡§≤‡•ç‡§Ø" ‡§≤‡§ø‡§ñ‡•á‡§Ç‡•§');
              }
              break;
            default:
              addBubble('system', '‡§ß‡§®‡•ç‡§Ø‡§µ‡§æ‡§¶! ‡§Ü‡§™ ‡§®‡§à ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç‡•§');
              break;
          }
          resetInactivityTimer();
        }, 1000);
      } catch (error) {
        console.error('Error in sendMessage:', error);
      }
    }

    // Reset inactivity timer function
    function resetInactivityTimer() {
      try {
        clearInactivityTimer();
        inactivityTimer = setTimeout(function () {
          addBubble('system', '‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™ ‡§Ö‡§≠‡•Ä ‡§≠‡•Ä ‡§Ø‡§π‡§æ‡§Å ‡§π‡•à‡§Ç?');
          inactivityTimer = setTimeout(function () {
            showPage('thankyouPage');
          }, 30000);
        }, 60000);
      } catch (error) {
        console.error('Error in resetInactivityTimer:', error);
      }
    }

    // Clear inactivity timer function
    function clearInactivityTimer() {
      if (inactivityTimer) {
        clearTimeout(inactivityTimer);
        inactivityTimer = null;
      }
    }

    // Handle photo upload function
    function handlePhotoUpload(event) {
      try {
        const file = event.target.files[0];
        if (file) {
          const reader = new FileReader();
          reader.onload = function (e) {
            farmerData.photo = e.target.result;
            addBubble('farmer', e.target.result, true);
          };
          reader.readAsDataURL(file);
        }
      } catch (error) {
        console.error('Error in handlePhotoUpload:', error);
      }
    }

    // Submit problem function
    function submitProblem() {
      try {
        const cropType = document.getElementById('cropType');
        const problemType = document.getElementById('problemType');
        const problemDetails = document.getElementById('problemDetails');

        if (!cropType || !problemType || !problemDetails) {
          alert('‡§ï‡•É‡§™‡§Ø‡§æ ‡§∏‡§≠‡•Ä ‡§´‡§º‡•Ä‡§≤‡•ç‡§° ‡§≠‡§∞‡•á‡§Ç');
          return;
        }

        if (!cropType.value || !problemType.value || !problemDetails.value) {
          alert('‡§ï‡•É‡§™‡§Ø‡§æ ‡§∏‡§≠‡•Ä ‡§´‡§º‡•Ä‡§≤‡•ç‡§° ‡§≠‡§∞‡•á‡§Ç');
          return;
        }

        // Show confirmation and redirect to chat
        alert('‡§Ü‡§™‡§ï‡•Ä ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ ‡§∏‡§´‡§≤‡§§‡§æ‡§™‡•Ç‡§∞‡•ç‡§µ‡§ï ‡§ú‡§Æ‡§æ ‡§ï‡•Ä ‡§ó‡§à ‡§π‡•à‡•§ ‡§π‡§Æ‡§æ‡§∞‡§æ ‡§∏‡§≤‡§æ‡§π‡§ï‡§æ‡§∞ ‡§Ü‡§™‡§ï‡•Ä ‡§∏‡§π‡§æ‡§Ø‡§§‡§æ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§§‡•à‡§Ø‡§æ‡§∞ ‡§π‡•à‡•§');
        showPage('chatPage');
        setActiveTab('chat-tab');
        initChat();

        // Pre-fill the chat with the problem details
        setTimeout(function () {
          addBubble('system', '‡§®‡§Æ‡§∏‡•ç‡§§‡•á! ‡§Ü‡§™‡§ï‡•Ä ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ ‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§∏‡•Å‡§®‡§ï‡§∞ ‡§¶‡•Å‡§ñ ‡§π‡•Å‡§Ü‡•§');
          setTimeout(function () {
            const cropText = cropType.options[cropType.selectedIndex].text;
            const problemText = problemType.options[problemType.selectedIndex].text;

            addBubble('system', '‡§Æ‡•à‡§Ç ‡§¶‡•á‡§ñ ‡§∞‡§π‡§æ ‡§π‡•Ç‡§Ç ‡§ï‡§ø ‡§Ü‡§™‡§ï‡•Ä ' + cropText + ' ‡§´‡§∏‡§≤ ‡§Æ‡•á‡§Ç ' + problemText + ' ‡§ï‡•Ä ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ ‡§π‡•à‡•§');
            setTimeout(function () {
              addBubble('system', '‡§ï‡•É‡§™‡§Ø‡§æ ‡§Ö‡§™‡§®‡§æ ‡§®‡§æ‡§Æ ‡§¨‡§§‡§æ‡§è‡§Ç ‡§§‡§æ‡§ï‡§ø ‡§Æ‡•à‡§Ç ‡§Ü‡§™‡§ï‡•ã ‡§¨‡•á‡§π‡§§‡§∞ ‡§∏‡§π‡§æ‡§Ø‡§§‡§æ ‡§™‡•ç‡§∞‡§¶‡§æ‡§® ‡§ï‡§∞ ‡§∏‡§ï‡•Ç‡§Ç‡•§');
            }, 1500);
          }, 1500);
        }, 1000);
      } catch (error) {
        console.error('Error in submitProblem:', error);
      }
    }

    // Show home page from splash screen
    function showHomePage() {
      showPage('home');
      setActiveTab('home-tab');
    }

    // Initialize event listeners
    function initializeEventListeners() {
      try {
        // Voice input functionality for chat
        const voiceBtn = document.getElementById('voiceBtn');
        if (voiceBtn) {
          voiceBtn.addEventListener('click', function () {
            if (recognition) {
              if (this.classList.contains('listening')) {
                recognition.stop();
                this.classList.remove('listening');
              } else {
                recognition.start();
                this.classList.add('listening');
              }
            }
          });
        }

        // Voice input functionality for problem page
        const problemVoiceBtn = document.getElementById('problemVoiceBtn');
        if (problemVoiceBtn) {
          problemVoiceBtn.addEventListener('click', function () {
            if (problemRecognition) {
              if (this.classList.contains('listening')) {
                problemRecognition.stop();
                this.classList.remove('listening');
                document.getElementById('voiceStatus').textContent = '';
              } else {
                problemRecognition.start();
                this.classList.add('listening');
                document.getElementById('voiceStatus').textContent = '‡§∏‡•Å‡§® ‡§∞‡§π‡§æ ‡§π‡•Ç‡§Ç... ‡§¨‡•ã‡§≤‡§ø‡§è';
              }
            }
          });
        }

        // Allow sending message with Enter key
        const chatInput = document.getElementById('chatInput');
        if (chatInput) {
          chatInput.addEventListener('keypress', function (e) {
            if (e.key === 'Enter') {
              sendMessage();
            }
          });
        }

        // Allow clicking anywhere on splash screen to continue
        const splashPage = document.getElementById('splashPage');
        if (splashPage) {
          splashPage.addEventListener('click', function (e) {
            // Only trigger if the click is not on the button itself (to avoid double trigger)
            if (!e.target.closest('.continue-btn')) {
              showHomePage();
            }
          });
        }
      } catch (error) {
        console.error('Error in initializeEventListeners:', error);
      }
    }

    // Initialize the page when DOM is loaded
    document.addEventListener('DOMContentLoaded', function () {
      try {
        // Show splash screen first
        showPage('splashPage');

        // Auto-redirect to home page after 5 seconds if user doesn't click
        setTimeout(function () {
          if (document.getElementById('splashPage').classList.contains('active')) {
            showHomePage();
          }
        }, 5000);

        initVoiceRecognition();
        initializeEventListeners();
      } catch (error) {
        console.error('Error during initialization:', error);
      }
    });
  </script>
</body>

</html>